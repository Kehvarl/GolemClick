<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <script src="https://unpkg.com/vue@next"></script>
    <title>GolemClick</title>
  </head>
  <body>
    <div id="clicker">
      <p>Magic: {{ magic }}</p>
      <magic-click title="Magic" @clicked="magic_click"></magic-click>
      <magic-click title="Clay"></magic-click>
    </div>

  </body>
  <script type="text/javascript">
    const clicker = Vue.createApp({
      data(){
        return {
          magic: 0
        }
      },
      methods: {
        magic_click(){
          this.magic ++;
        }
      }
    });
    clicker.component('magic-click',{
      emits: ['clicked'],
      props: {
        title: String
      },
      template: `
        <p> {{ clicks }}
        <button v-on:click="click"> {{ title }}</button>
        </p>
      `,
      data(){
        return {
          clicks: 0
        }
      },
      methods: {
        click(){
          this.clicks ++;
          this.$emit('clicked');
        }
      }
    });

    clicker.mount('#clicker');
  </script>
</html>
